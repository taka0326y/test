<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Latte CafÃ©ï½œãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼†ã‚ªãƒ¼ãƒ€ãƒ¼</title>
<meta name="theme-color" content="#006241">
<style>
  :root{
    --green:#006241; --deep:#004c33; --cream:#f7f3e9; --paper:#fffdf6; --ink:#1f2937;
    --shadow:0 6px 24px rgba(0,0,0,.08), 0 2px 6px rgba(0,0,0,.06);
    --radius:16px;
  }
  *{box-sizing:border-box}
  html,body{margin:0}
  body{
    font-family: "Hiragino Sans","Noto Sans JP",system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
    background: linear-gradient(180deg,#faf7f0, #f7f3e9);
    color:var(--ink);
  }

  /* ãƒ’ãƒ¼ãƒ­ãƒ¼ */
  .hero{
    position:relative; overflow:hidden; padding:56px 20px 40px;
    background:
      radial-gradient(80% 60% at 80% -10%, #8fd3b5 0%, rgba(143,211,181,0) 60%),
      radial-gradient(70% 50% at -10% 20%, #e9f5ee 0%, rgba(233,245,238,0) 60%),
      linear-gradient(120deg,#ffffff 0%, #fffdf6 60%, #f4efe4 100%);
  }
  .hero-inner{max-width:1080px; margin:0 auto; display:grid; gap:24px; align-items:center}
  .brand{
    display:flex; gap:16px; align-items:center; user-select:none
  }
  .logo{
    width:56px; height:56px; border-radius:50%; background:#006241; display:grid; place-items:center;
    color:#fff; font-weight:700; box-shadow:var(--shadow)
  }
  .title{margin:0; font-size:clamp(24px,4.5vw,40px); color:var(--green); letter-spacing:.02em}
  .subtitle{margin:4px 0 0; color:#4b5563}

  .hero-media{
    border-radius:24px; overflow:hidden; box-shadow:var(--shadow); position:relative; min-height:180px;
    background:
      linear-gradient(180deg, rgba(0,0,0,.25), rgba(0,0,0,.25)),
      radial-gradient(110% 70% at 0% 100%, #0e6d4b 0%, #064735 40%, #023528 70%, #01251c 100%);
  }
  .hero-media::after{
    content:""; position:absolute; inset:0;
    background:
      repeating-linear-gradient( 25deg, rgba(255,255,255,.06) 0 2px, transparent 2px 8px),
      radial-gradient(60% 60% at 70% 30%, rgba(255,255,255,.16), transparent 60%);
    mix-blend-mode: screen;
  }
  .hero-cta{display:flex; gap:12px; flex-wrap:wrap}
  .btn{
    appearance:none; border:none; padding:12px 18px; border-radius:12px; cursor:pointer;
    font-weight:600; letter-spacing:.02em; transition:.2s transform ease, .2s box-shadow ease, .2s background-color ease;
  }
  .btn:active{transform:translateY(1px)}
  .btn-primary{background:var(--green); color:#fff; box-shadow:var(--shadow)}
  .btn-primary:hover{background:var(--deep)}
  .btn-ghost{background:#ffffffcc; backdrop-filter:saturate(140%) blur(6px); color:var(--green); border:1px solid #e5e7eb}
  .badge{
    font-size:.85rem; background:#e8f5ee; color:var(--deep); padding:.35rem .6rem; border-radius:999px; display:inline-block
  }

  /* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */
  .container{max-width:1080px; margin:24px auto 80px; padding:0 20px}
  .section-title{margin:24px 0 12px; font-size:clamp(18px,2.8vw,24px)}
  .grid{
    display:grid; gap:16px;
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  }
  .card{
    background:var(--paper); border-radius:var(--radius); box-shadow:var(--shadow); overflow:hidden; display:flex; flex-direction:column
  }
  .thumb{
    height:140px; background:
      radial-gradient(80% 60% at 30% 30%, rgba(255,255,255,.25), rgba(255,255,255,0) 60%),
      linear-gradient(120deg,#2f7a5d, #0b5a40);
  }
  .card-body{padding:14px 14px 16px; display:flex; flex-direction:column; gap:8px}
  .card h3{margin:0; font-size:1.05rem}
  .price{color:#065f46; font-weight:700}
  .qty{display:flex; align-items:center; gap:8px}
  .qty input{
    width:64px; padding:8px; border-radius:10px; border:1px solid #e5e7eb; text-align:center; font-weight:600
  }
  .add{margin-top:auto}

  /* ãƒ•ãƒƒã‚¿ãƒ¼ */
  footer{max-width:1080px; margin:40px auto; padding:0 20px; color:#6b7280; text-align:center}

  /* ãƒ•ãƒ­ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚«ãƒ¼ãƒˆ */
  .cart{
    position:fixed; right:16px; bottom:16px; background:#0a3d2e; color:#fff;
    border-radius:18px; padding:12px 16px; box-shadow:var(--shadow); display:flex; gap:10px; align-items:center; z-index:10
  }
  .cart .count{background:#22c55e; color:#063; font-weight:800; border-radius:999px; padding:2px 8px}
  .cart .total{font-weight:700}

  /* ãƒ¢ãƒ¼ãƒ€ãƒ« */
  dialog{
    width:min(680px, 92vw); border:none; border-radius:18px; padding:0; box-shadow:0 30px 80px rgba(0,0,0,.35); overflow:hidden
  }
  dialog::backdrop{background:rgba(0,0,0,.4)}
  .modal-head{display:flex; justify-content:space-between; align-items:center; padding:16px 18px; background:#0a3d2e; color:#fff}
  .modal-body{padding:16px 18px; background:#fff}
  .modal-foot{display:flex; justify-content:flex-end; gap:10px; padding:14px 18px; background:#f8fafc}
  .table{width:100%; border-collapse:collapse}
  .table th,.table td{padding:10px 8px; border-bottom:1px solid #e5e7eb; text-align:left}
  .table th{font-size:.92rem; color:#475569}
  .right{text-align:right}
  .muted{color:#6b7280}
  .danger{background:#fee2e2; color:#7f1d1d}
  @media (min-width:900px){
    .hero-inner{grid-template-columns:1fr 1.2fr}
  }
</style>
</head>
<body>
  <header class="hero">
    <div class="hero-inner">
      <div>
        <div class="brand">
          <div class="logo">LC</div>
          <div>
            <h1 class="title">Latte CafÃ©</h1>
            <p class="subtitle">ã‚„ã•ã—ã„ä¸€æ¯ã‚’ã€ã‚ãªãŸã«ã€‚<span class="badge">NEW</span></p>
          </div>
        </div>
        <div style="height:16px"></div>
        <div class="hero-cta">
          <button class="btn btn-primary" id="openCartBtn">ğŸ§º ã‚«ãƒ¼ãƒˆã‚’è¦‹ã‚‹</button>
          <button class="btn btn-ghost" id="scrollMenu">ğŸ“‹ ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã¸</button>
        </div>
      </div>
      <div class="hero-media" aria-hidden="true"></div>
    </div>
  </header>

  <main class="container" id="menuTop">
    <h2 class="section-title">â˜• ãƒ‰ãƒªãƒ³ã‚¯ãƒ¡ãƒ‹ãƒ¥ãƒ¼</h2>
    <div class="grid" id="menuGrid" aria-live="polite"></div>

    <h2 class="section-title">ğŸ° ã‚¹ã‚¤ãƒ¼ãƒ„</h2>
    <div class="grid" id="dessertGrid" aria-live="polite"></div>
  </main>

  <footer>
    Â© 2025 Latte CafÃ© â€” ã“ã®ãƒšãƒ¼ã‚¸ã¯å­¦ç¿’ç”¨ãƒ‡ãƒ¢ã§ã™ã€‚ç”»åƒã¯CSSã®ã‚°ãƒ©ãƒ‡ã§ç”Ÿæˆã—ã¦ã„ã¾ã™ã€‚
  </footer>

  <!-- ãƒ•ãƒ­ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚«ãƒ¼ãƒˆ -->
  <div class="cart" role="status" aria-live="polite">
    <span>ã‚«ãƒ¼ãƒˆ</span>
    <span class="count" id="cartCount">0</span>
    <span class="total" id="cartTotal">Â¥0</span>
    <button class="btn btn-primary" id="cartQuickOpen" style="padding:8px 12px">é–‹ã</button>
  </div>

  <!-- ã‚«ãƒ¼ãƒˆãƒ¢ãƒ¼ãƒ€ãƒ« -->
  <dialog id="cartModal" aria-label="æ³¨æ–‡ã‚«ãƒ¼ãƒˆ">
    <div class="modal-head">
      <strong>ğŸ§º ã”æ³¨æ–‡å†…å®¹</strong>
      <button class="btn btn-ghost" id="closeCart">é–‰ã˜ã‚‹</button>
    </div>
    <div class="modal-body">
      <table class="table" id="cartTable">
        <thead>
          <tr><th>å•†å“</th><th class="right">å˜ä¾¡</th><th class="right">æ•°é‡</th><th class="right">å°è¨ˆ</th><th></th></tr>
        </thead>
        <tbody id="cartBody">
          <tr><td colspan="5" class="muted">ã‚«ãƒ¼ãƒˆã¯ç©ºã§ã™ã€‚</td></tr>
        </tbody>
      </table>
    </div>
    <div class="modal-foot">
      <div style="margin-right:auto; align-self:center" class="muted">ç¨è¾¼è¡¨ç¤ºãƒ»ãƒ‡ãƒ¢å‹•ä½œ</div>
      <button class="btn btn-ghost" id="clearCart">ã‚«ãƒ¼ãƒˆã‚’ç©ºã«</button>
      <button class="btn btn-primary" id="checkout">ã“ã®å†…å®¹ã§æ³¨æ–‡ï¼ˆãƒ‡ãƒ¢ï¼‰</button>
    </div>
  </dialog>

  <script>
    // ===== ãƒ‡ãƒ¼ã‚¿ï¼ˆã“ã“ã‚’æ›¸ãæ›ãˆã‚‹ã ã‘ã§ãƒ¡ãƒ‹ãƒ¥ãƒ¼æ›´æ–°ã§ãã‚‹ã‚ˆï¼‰ =====
    const drinks = [
      { id:'latte', name:'ã‚«ãƒ•ã‚§ãƒ©ãƒ†', price:520, desc:'ã‚¨ã‚¹ãƒ—ãƒ¬ãƒƒã‚½ã«ã‚¹ãƒãƒ¼ãƒ ãƒŸãƒ«ã‚¯ã€‚ã¾ã‚ã‚„ã‹å®šç•ªã€‚' },
      { id:'cap', name:'ã‚«ãƒ—ãƒãƒ¼ãƒ', price:540, desc:'ãµã‚ãµã‚ãƒ•ã‚©ãƒ¼ãƒ ã¨ã‚³ã‚¯ã®ãƒãƒ©ãƒ³ã‚¹ã€‚' },
      { id:'americano', name:'ã‚¢ãƒ¡ãƒªã‚«ãƒ¼ãƒ', price:480, desc:'ã™ã£ãã‚Šãƒ­ãƒ³ã‚°ãƒ–ãƒ©ãƒƒã‚¯ã€‚' },
      { id:'matcha', name:'æŠ¹èŒ¶ãƒ©ãƒ†', price:590, desc:'é¦™ã‚Šé«˜ã„å®‡æ²»æŠ¹èŒ¶ã®ã‚„ã•ã—ã„ç”˜ã¿ã€‚' },
      { id:'hojicha', name:'ã»ã†ã˜èŒ¶ãƒ©ãƒ†', price:590, desc:'é¦™ã°ã—ã•ãŒè½ã¡ç€ãå’Œãƒ©ãƒ†ã€‚' },
      { id:'soda', name:'è‡ªå®¶è£½ã‚½ãƒ¼ãƒ€', price:450, desc:'ãƒŸãƒ³ãƒˆã‚’æ·»ãˆãŸçˆ½å¿«ãƒ‰ãƒªãƒ³ã‚¯ã€‚' },
    ];
    const desserts = [
      { id:'cheesecake', name:'ãƒ™ã‚¤ã‚¯ãƒ‰ãƒãƒ¼ã‚ºã‚±ãƒ¼ã‚­', price:620, desc:'æ¿ƒåšã§ã—ã£ã¨ã‚Šã€çˆç²ã¨ç›¸æ€§â—' },
      { id:'brownie', name:'ã‚¦ã‚©ãƒ«ãƒŠãƒƒãƒ„ãƒ–ãƒ©ã‚¦ãƒ‹ãƒ¼', price:520, desc:'ãƒŠãƒƒãƒ„é£Ÿæ„ŸãŒæ¥½ã—ã„æ¿ƒåšãƒãƒ§ã‚³ã€‚' },
      { id:'cookie', name:'ãƒã‚¿ãƒ¼ã‚¯ãƒƒã‚­ãƒ¼', price:280, desc:'ã•ãã»ã‚é£Ÿæ„Ÿã®å°ã•ãªã—ã‚ã‚ã›ã€‚' },
      { id:'pound', name:'ãƒ¬ãƒ¢ãƒ³ãƒ‘ã‚¦ãƒ³ãƒ‰', price:420, desc:'çˆ½ã‚„ã‹ãªé…¸å‘³ã¨ãƒã‚¿ãƒ¼ã®é¦™ã‚Šã€‚' },
    ];

    const cart = new Map(); // id -> {name, price, qty}

    // ===== ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ =====
    const yen = n => "Â¥" + n.toLocaleString("ja-JP");
    const el = (tag, props={}, ...children) => {
      const node = document.createElement(tag);
      Object.assign(node, props);
      for(const c of children){
        if(typeof c === "string") node.appendChild(document.createTextNode(c));
        else if(c) node.appendChild(c);
      }
      return node;
    };

    // ===== ã‚«ãƒ¼ãƒ‰ç”Ÿæˆ =====
    function createCard(item){
      const wrap = el("article", {className:"card", tabIndex:0, role:"group", "aria-label": item.name});
      const thumb = el("div", {className:"thumb", "aria-hidden":"true"});
      const body = el("div", {className:"card-body"});
      const h3 = el("h3", {}, item.name);
      const desc = el("div", {className:"muted", style:"min-height:2.2em"}, item.desc);
      const price = el("div", {className:"price"}, yen(item.price));

      // é‡ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«
      const qtyWrap = el("div", {className:"qty"});
      const input = el("input", {type:"number", min:"1", value:"1", inputMode:"numeric", "aria-label":"æ•°é‡"});
      qtyWrap.append("æ•°é‡", input);

      const button = el("button", {className:"btn btn-primary add"});
      button.textContent = "ã‚«ãƒ¼ãƒˆã«å…¥ã‚Œã‚‹";
      button.addEventListener("click", () => {
        const q = Math.max(1, parseInt(input.value||"1",10));
        addToCart(item, q);
        animateBump(button);
      });

      body.append(h3, desc, price, qtyWrap, button);
      wrap.append(thumb, body);
      return wrap;
    }

    function animateBump(node){
      node.style.transform = "scale(1.03)";
      node.style.boxShadow = "0 10px 24px rgba(0,0,0,.18)";
      setTimeout(()=>{
        node.style.transform = "";
        node.style.boxShadow = "";
      }, 180);
    }

    // ===== ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° =====
    function renderMenus(){
      const menuGrid = document.getElementById("menuGrid");
      const dessertGrid = document.getElementById("dessertGrid");
      menuGrid.innerHTML = "";
      dessertGrid.innerHTML = "";
      drinks.forEach(d => menuGrid.appendChild(createCard(d)));
      desserts.forEach(d => dessertGrid.appendChild(createCard(d)));
    }

    // ===== ã‚«ãƒ¼ãƒˆæ“ä½œ =====
    function addToCart(item, qty=1){
      const cur = cart.get(item.id) || {name:item.name, price:item.price, qty:0};
      cur.qty += qty;
      cart.set(item.id, cur);
      updateCartUI();
    }
    function setQty(id, qty){
      if(!cart.has(id)) return;
      if(qty <= 0){ cart.delete(id); } else {
        const v = cart.get(id); v.qty = qty; cart.set(id, v);
      }
      updateCartUI();
    }
    function removeItem(id){
      cart.delete(id);
      updateCartUI();
    }
    function clearCart(){
      cart.clear();
      updateCartUI();
    }
    function cartTotals(){
      let count = 0, total = 0;
      for(const {price, qty} of cart.values()){
        count += qty; total += price*qty;
      }
      return {count, total};
    }

    // ===== ã‚«ãƒ¼ãƒˆUI =====
    function updateCartUI(){
      const {count, total} = cartTotals();
      document.getElementById("cartCount").textContent = count;
      document.getElementById("cartTotal").textContent = yen(total);

      const body = document.getElementById("cartBody");
      body.innerHTML = "";
      if(count === 0){
        body.appendChild(el("tr",{}, el("td",{colSpan:5, className:"muted"},"ã‚«ãƒ¼ãƒˆã¯ç©ºã§ã™ã€‚")));
        return;
      }
      for(const [id, row] of cart.entries()){
        const tr = el("tr");
        tr.append(
          el("td",{}, row.name),
          el("td",{className:"right"}, yen(row.price)),
          el("td",{className:"right"},
            el("input", {type:"number", min:"0", value:String(row.qty), style:"width:72px; padding:6px; text-align:right"},
              ),
          ),
          el("td",{className:"right"}, yen(row.price*row.qty)),
          el("td",{},
            el("button",{className:"btn danger", onclick:()=>removeItem(id)}, "å‰Šé™¤")
          )
        );
        // å¤‰æ›´ã‚¤ãƒ™ãƒ³ãƒˆ
        tr.querySelector("input").addEventListener("change", (e)=>{
          const v = Math.max(0, parseInt(e.target.value||"0",10));
          setQty(id, v);
        });
        body.appendChild(tr);
      }
    }

    // ===== ãƒ¢ãƒ¼ãƒ€ãƒ«ï¼ãƒŠãƒ“ =====
    const modal = document.getElementById("cartModal");
    document.getElementById("openCartBtn").addEventListener("click", ()=> modal.showModal());
    document.getElementById("cartQuickOpen").addEventListener("click", ()=> modal.showModal());
    document.getElementById("closeCart").addEventListener("click", ()=> modal.close());
    document.getElementById("clearCart").addEventListener("click", clearCart);
    document.getElementById("checkout").addEventListener("click", ()=>{
      const {count, total} = cartTotals();
      if(count===0){ alert("ã‚«ãƒ¼ãƒˆãŒç©ºã§ã™ã€‚"); return; }
      alert(`ã”æ³¨æ–‡ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼\nç‚¹æ•°: ${count}\nåˆè¨ˆ: ${yen(total)}\nï¼ˆãƒ‡ãƒ¢ãªã®ã§é€ä¿¡ã¯ã—ã¦ã„ã¾ã›ã‚“ï¼‰`);
      modal.close();
      clearCart();
    });

    document.getElementById("scrollMenu").addEventListener("click", ()=>{
      document.getElementById("menuTop").scrollIntoView({behavior:"smooth", block:"start"});
    });

    // åˆæœŸåŒ–
    renderMenus();
    updateCartUI();
  </script>
</body>
</html>
