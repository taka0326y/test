<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Latte Café｜メニュー＆オーダー</title>
<meta name="theme-color" content="#006241">
<style>
  :root{
    --green:#006241; --deep:#004c33; --cream:#f7f3e9; --paper:#fffdf6; --ink:#1f2937;
    --shadow:0 6px 24px rgba(0,0,0,.08), 0 2px 6px rgba(0,0,0,.06);
    --radius:16px;
  }
  *{box-sizing:border-box}
  html,body{margin:0}
  body{
    font-family: "Hiragino Sans","Noto Sans JP",system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
    background: linear-gradient(180deg,#faf7f0, #f7f3e9);
    color:var(--ink);
  }

  /* ヒーロー */
  .hero{
    position:relative; overflow:hidden; padding:56px 20px 40px;
    background:
      radial-gradient(80% 60% at 80% -10%, #8fd3b5 0%, rgba(143,211,181,0) 60%),
      radial-gradient(70% 50% at -10% 20%, #e9f5ee 0%, rgba(233,245,238,0) 60%),
      linear-gradient(120deg,#ffffff 0%, #fffdf6 60%, #f4efe4 100%);
  }
  .hero-inner{max-width:1080px; margin:0 auto; display:grid; gap:24px; align-items:center}
  .brand{
    display:flex; gap:16px; align-items:center; user-select:none
  }
  .logo{
    width:56px; height:56px; border-radius:50%; background:#006241; display:grid; place-items:center;
    color:#fff; font-weight:700; box-shadow:var(--shadow)
  }
  .title{margin:0; font-size:clamp(24px,4.5vw,40px); color:var(--green); letter-spacing:.02em}
  .subtitle{margin:4px 0 0; color:#4b5563}

  .hero-media{
    border-radius:24px; overflow:hidden; box-shadow:var(--shadow); position:relative; min-height:180px;
    background:
      linear-gradient(180deg, rgba(0,0,0,.25), rgba(0,0,0,.25)),
      radial-gradient(110% 70% at 0% 100%, #0e6d4b 0%, #064735 40%, #023528 70%, #01251c 100%);
  }
  .hero-media::after{
    content:""; position:absolute; inset:0;
    background:
      repeating-linear-gradient( 25deg, rgba(255,255,255,.06) 0 2px, transparent 2px 8px),
      radial-gradient(60% 60% at 70% 30%, rgba(255,255,255,.16), transparent 60%);
    mix-blend-mode: screen;
  }
  .hero-cta{display:flex; gap:12px; flex-wrap:wrap}
  .btn{
    appearance:none; border:none; padding:12px 18px; border-radius:12px; cursor:pointer;
    font-weight:600; letter-spacing:.02em; transition:.2s transform ease, .2s box-shadow ease, .2s background-color ease;
  }
  .btn:active{transform:translateY(1px)}
  .btn-primary{background:var(--green); color:#fff; box-shadow:var(--shadow)}
  .btn-primary:hover{background:var(--deep)}
  .btn-ghost{background:#ffffffcc; backdrop-filter:saturate(140%) blur(6px); color:var(--green); border:1px solid #e5e7eb}
  .badge{
    font-size:.85rem; background:#e8f5ee; color:var(--deep); padding:.35rem .6rem; border-radius:999px; display:inline-block
  }

  /* コンテンツ */
  .container{max-width:1080px; margin:24px auto 80px; padding:0 20px}
  .section-title{margin:24px 0 12px; font-size:clamp(18px,2.8vw,24px)}
  .grid{
    display:grid; gap:16px;
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  }
  .card{
    background:var(--paper); border-radius:var(--radius); box-shadow:var(--shadow); overflow:hidden; display:flex; flex-direction:column
  }
  .thumb{
    height:140px; background:
      radial-gradient(80% 60% at 30% 30%, rgba(255,255,255,.25), rgba(255,255,255,0) 60%),
      linear-gradient(120deg,#2f7a5d, #0b5a40);
  }
  .card-body{padding:14px 14px 16px; display:flex; flex-direction:column; gap:8px}
  .card h3{margin:0; font-size:1.05rem}
  .price{color:#065f46; font-weight:700}
  .qty{display:flex; align-items:center; gap:8px}
  .qty input{
    width:64px; padding:8px; border-radius:10px; border:1px solid #e5e7eb; text-align:center; font-weight:600
  }
  .add{margin-top:auto}

  /* フッター */
  footer{max-width:1080px; margin:40px auto; padding:0 20px; color:#6b7280; text-align:center}

  /* フローティングカート */
  .cart{
    position:fixed; right:16px; bottom:16px; background:#0a3d2e; color:#fff;
    border-radius:18px; padding:12px 16px; box-shadow:var(--shadow); display:flex; gap:10px; align-items:center; z-index:10
  }
  .cart .count{background:#22c55e; color:#063; font-weight:800; border-radius:999px; padding:2px 8px}
  .cart .total{font-weight:700}

  /* モーダル */
  dialog{
    width:min(680px, 92vw); border:none; border-radius:18px; padding:0; box-shadow:0 30px 80px rgba(0,0,0,.35); overflow:hidden
  }
  dialog::backdrop{background:rgba(0,0,0,.4)}
  .modal-head{display:flex; justify-content:space-between; align-items:center; padding:16px 18px; background:#0a3d2e; color:#fff}
  .modal-body{padding:16px 18px; background:#fff}
  .modal-foot{display:flex; justify-content:flex-end; gap:10px; padding:14px 18px; background:#f8fafc}
  .table{width:100%; border-collapse:collapse}
  .table th,.table td{padding:10px 8px; border-bottom:1px solid #e5e7eb; text-align:left}
  .table th{font-size:.92rem; color:#475569}
  .right{text-align:right}
  .muted{color:#6b7280}
  .danger{background:#fee2e2; color:#7f1d1d}
  @media (min-width:900px){
    .hero-inner{grid-template-columns:1fr 1.2fr}
  }
</style>
</head>
<body>
  <header class="hero">
    <div class="hero-inner">
      <div>
        <div class="brand">
          <div class="logo">LC</div>
          <div>
            <h1 class="title">Latte Café</h1>
            <p class="subtitle">やさしい一杯を、あなたに。<span class="badge">NEW</span></p>
          </div>
        </div>
        <div style="height:16px"></div>
        <div class="hero-cta">
          <button class="btn btn-primary" id="openCartBtn">🧺 カートを見る</button>
          <button class="btn btn-ghost" id="scrollMenu">📋 メニューへ</button>
        </div>
      </div>
      <div class="hero-media" aria-hidden="true"></div>
    </div>
  </header>

  <main class="container" id="menuTop">
    <h2 class="section-title">☕ ドリンクメニュー</h2>
    <div class="grid" id="menuGrid" aria-live="polite"></div>

    <h2 class="section-title">🍰 スイーツ</h2>
    <div class="grid" id="dessertGrid" aria-live="polite"></div>
  </main>

  <footer>
    © 2025 Latte Café — このページは学習用デモです。画像はCSSのグラデで生成しています。
  </footer>

  <!-- フローティングカート -->
  <div class="cart" role="status" aria-live="polite">
    <span>カート</span>
    <span class="count" id="cartCount">0</span>
    <span class="total" id="cartTotal">¥0</span>
    <button class="btn btn-primary" id="cartQuickOpen" style="padding:8px 12px">開く</button>
  </div>

  <!-- カートモーダル -->
  <dialog id="cartModal" aria-label="注文カート">
    <div class="modal-head">
      <strong>🧺 ご注文内容</strong>
      <button class="btn btn-ghost" id="closeCart">閉じる</button>
    </div>
    <div class="modal-body">
      <table class="table" id="cartTable">
        <thead>
          <tr><th>商品</th><th class="right">単価</th><th class="right">数量</th><th class="right">小計</th><th></th></tr>
        </thead>
        <tbody id="cartBody">
          <tr><td colspan="5" class="muted">カートは空です。</td></tr>
        </tbody>
      </table>
    </div>
    <div class="modal-foot">
      <div style="margin-right:auto; align-self:center" class="muted">税込表示・デモ動作</div>
      <button class="btn btn-ghost" id="clearCart">カートを空に</button>
      <button class="btn btn-primary" id="checkout">この内容で注文（デモ）</button>
    </div>
  </dialog>

  <script>
    // ===== データ（ここを書き換えるだけでメニュー更新できるよ） =====
    const drinks = [
      { id:'latte', name:'カフェラテ', price:520, desc:'エスプレッソにスチームミルク。まろやか定番。' },
      { id:'cap', name:'カプチーノ', price:540, desc:'ふわふわフォームとコクのバランス。' },
      { id:'americano', name:'アメリカーノ', price:480, desc:'すっきりロングブラック。' },
      { id:'matcha', name:'抹茶ラテ', price:590, desc:'香り高い宇治抹茶のやさしい甘み。' },
      { id:'hojicha', name:'ほうじ茶ラテ', price:590, desc:'香ばしさが落ち着く和ラテ。' },
      { id:'soda', name:'自家製ソーダ', price:450, desc:'ミントを添えた爽快ドリンク。' },
    ];
    const desserts = [
      { id:'cheesecake', name:'ベイクドチーズケーキ', price:620, desc:'濃厚でしっとり、珈琲と相性◎' },
      { id:'brownie', name:'ウォルナッツブラウニー', price:520, desc:'ナッツ食感が楽しい濃厚チョコ。' },
      { id:'cookie', name:'バタークッキー', price:280, desc:'さくほろ食感の小さなしあわせ。' },
      { id:'pound', name:'レモンパウンド', price:420, desc:'爽やかな酸味とバターの香り。' },
    ];

    const cart = new Map(); // id -> {name, price, qty}

    // ===== ユーティリティ =====
    const yen = n => "¥" + n.toLocaleString("ja-JP");
    const el = (tag, props={}, ...children) => {
      const node = document.createElement(tag);
      Object.assign(node, props);
      for(const c of children){
        if(typeof c === "string") node.appendChild(document.createTextNode(c));
        else if(c) node.appendChild(c);
      }
      return node;
    };

    // ===== カード生成 =====
    function createCard(item){
      const wrap = el("article", {className:"card", tabIndex:0, role:"group", "aria-label": item.name});
      const thumb = el("div", {className:"thumb", "aria-hidden":"true"});
      const body = el("div", {className:"card-body"});
      const h3 = el("h3", {}, item.name);
      const desc = el("div", {className:"muted", style:"min-height:2.2em"}, item.desc);
      const price = el("div", {className:"price"}, yen(item.price));

      // 量コントロール
      const qtyWrap = el("div", {className:"qty"});
      const input = el("input", {type:"number", min:"1", value:"1", inputMode:"numeric", "aria-label":"数量"});
      qtyWrap.append("数量", input);

      const button = el("button", {className:"btn btn-primary add"});
      button.textContent = "カートに入れる";
      button.addEventListener("click", () => {
        const q = Math.max(1, parseInt(input.value||"1",10));
        addToCart(item, q);
        animateBump(button);
      });

      body.append(h3, desc, price, qtyWrap, button);
      wrap.append(thumb, body);
      return wrap;
    }

    function animateBump(node){
      node.style.transform = "scale(1.03)";
      node.style.boxShadow = "0 10px 24px rgba(0,0,0,.18)";
      setTimeout(()=>{
        node.style.transform = "";
        node.style.boxShadow = "";
      }, 180);
    }

    // ===== レンダリング =====
    function renderMenus(){
      const menuGrid = document.getElementById("menuGrid");
      const dessertGrid = document.getElementById("dessertGrid");
      menuGrid.innerHTML = "";
      dessertGrid.innerHTML = "";
      drinks.forEach(d => menuGrid.appendChild(createCard(d)));
      desserts.forEach(d => dessertGrid.appendChild(createCard(d)));
    }

    // ===== カート操作 =====
    function addToCart(item, qty=1){
      const cur = cart.get(item.id) || {name:item.name, price:item.price, qty:0};
      cur.qty += qty;
      cart.set(item.id, cur);
      updateCartUI();
    }
    function setQty(id, qty){
      if(!cart.has(id)) return;
      if(qty <= 0){ cart.delete(id); } else {
        const v = cart.get(id); v.qty = qty; cart.set(id, v);
      }
      updateCartUI();
    }
    function removeItem(id){
      cart.delete(id);
      updateCartUI();
    }
    function clearCart(){
      cart.clear();
      updateCartUI();
    }
    function cartTotals(){
      let count = 0, total = 0;
      for(const {price, qty} of cart.values()){
        count += qty; total += price*qty;
      }
      return {count, total};
    }

    // ===== カートUI =====
    function updateCartUI(){
      const {count, total} = cartTotals();
      document.getElementById("cartCount").textContent = count;
      document.getElementById("cartTotal").textContent = yen(total);

      const body = document.getElementById("cartBody");
      body.innerHTML = "";
      if(count === 0){
        body.appendChild(el("tr",{}, el("td",{colSpan:5, className:"muted"},"カートは空です。")));
        return;
      }
      for(const [id, row] of cart.entries()){
        const tr = el("tr");
        tr.append(
          el("td",{}, row.name),
          el("td",{className:"right"}, yen(row.price)),
          el("td",{className:"right"},
            el("input", {type:"number", min:"0", value:String(row.qty), style:"width:72px; padding:6px; text-align:right"},
              ),
          ),
          el("td",{className:"right"}, yen(row.price*row.qty)),
          el("td",{},
            el("button",{className:"btn danger", onclick:()=>removeItem(id)}, "削除")
          )
        );
        // 変更イベント
        tr.querySelector("input").addEventListener("change", (e)=>{
          const v = Math.max(0, parseInt(e.target.value||"0",10));
          setQty(id, v);
        });
        body.appendChild(tr);
      }
    }

    // ===== モーダル／ナビ =====
    const modal = document.getElementById("cartModal");
    document.getElementById("openCartBtn").addEventListener("click", ()=> modal.showModal());
    document.getElementById("cartQuickOpen").addEventListener("click", ()=> modal.showModal());
    document.getElementById("closeCart").addEventListener("click", ()=> modal.close());
    document.getElementById("clearCart").addEventListener("click", clearCart);
    document.getElementById("checkout").addEventListener("click", ()=>{
      const {count, total} = cartTotals();
      if(count===0){ alert("カートが空です。"); return; }
      alert(`ご注文ありがとうございます！\n点数: ${count}\n合計: ${yen(total)}\n（デモなので送信はしていません）`);
      modal.close();
      clearCart();
    });

    document.getElementById("scrollMenu").addEventListener("click", ()=>{
      document.getElementById("menuTop").scrollIntoView({behavior:"smooth", block:"start"});
    });

    // 初期化
    renderMenus();
    updateCartUI();
  </script>
</body>
</html>
